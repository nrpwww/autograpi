exec("""\nimport instagrapi, os, urllib, json, datetime\n\nCONTENT_JPG = 1\nCONTENT_MP4 = 2\n\nif not os.path.exists("stories"):\n	os.mkdir("stories")\n	\nif not os.path.exists("sessions"):\n	os.mkdir("sessions")\n	\n	\ntmp = open("userids.json", "r")\nuserids = json.load(tmp)\ntmp.close()\n\ntmp = open("settings.json", "r")\nsettings = json.load(tmp)\ntmp.close()\n\ntmp = open("usernames.txt", "r")\nusernames = tmp.read().splitlines()\ntmp.close()\n	\n	\ngrapi = instagrapi.Client()\n\n\ndef magic(st):\n	st_ = ""\n	for letter in st:\n		if letter in "0123456789":\n			st_ += letter\n	return st_\n\n\nacc_username = []\nacc_password = []\n\nfor index, account in enumerate(settings):\n	acc_username.append(account["username"])\n	acc_password.append(account["password"])\n	try:\n		check = instagrapi.Client()\n		\n		check.login(acc_username[-1], acc_password[-1])\n	except:\n		acc_username.pop(-1)\n		acc_password.pop(-1)\n\n\nfor unames in [usernames[i:i + 10] for i in range(0, len(usernames), 10)]:\n	try:\n		grapi = instagrapi.Client()\n\n		if not acc_username:\n			break\n			\n		if not acc_password:\n			break\n		\n		if os.path.exists("sessions/" + acc_username[0] + ".json"):\n			grapi.load_settings("sessions/" + acc_username[0] + ".json")\n		\n		grapi.login(acc_username[0], acc_password[0])\n	except:\n		pass\n		\n	try:\n		grapi.get_timeline_feed()\n	except:	\n		try:\n			grapi = instagrapi.Client()\n\n			if not acc_username:\n				break\n				\n			if not acc_password:\n				break\n			\n			username = input("Username: ") \n			password = input("Passwd: ")\n						\n			acc_username[0] = acc_username[0] if username != "" else acc_username[0]\n			acc_password[0] = acc_password[0] if password != "" else acc_password[0]\n			\n			grapi.login(acc_username[0], acc_password[0])\n		except:\n			grapi = instagrapi.Client()\n\n			if not acc_username:\n				break\n				\n			if not acc_password:\n				break\n\n			acc_username.pop(0)\n			acc_password.pop(0)\n			\n			if not acc_username:\n				break\n				\n			if not acc_password:\n				break\n			\n			grapi.login(acc_username[0], acc_password[0])\n\n	grapi.inject_sessionid_to_public()\n		\n	for username in unames:\n		try:\n			userid = int(grapi.user_id_from_username(username))\n			\n			if not userid in userids:\n				userids.append(userid)\n				\n			tmp = open("userids.json", "w")\n			json.dump(userids, tmp)\n			tmp.close()	\n		except:\n			pass\n		\n	grapi.dump_settings("sessions/" + acc_username[0] + ".json")\n""")